<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>readme.md</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html"><h1 id="documentation-api-allopico">Documentation Api-Allopico</h1>
<h1 id="database">DATABASE</h1>
<h2 id="rest-resources--db-models-">Rest Resources / DB models :</h2>
<p><strong>City</strong> : Represent la liste des villes déservies.</p>
<p><strong>User</strong> : User auth, profile</p>
<p><strong>Location</strong> : Represent a gps location. Obtenu grâce au gps du tel. Le user possède une collection de Location.</p>
<p><strong>Address</strong> : Represent a location address. Addresse complète en une chaine. Obtenu grâce à l’api G+ map à partir des coordonnées. coords -&gt; full address</p>
<p><strong>Product</strong> : Represent un produit de l’application.</p>
<p><strong>Cart</strong> : Represent an user list of selected products. temporaire, modififiable … persisté dans le but d’améliorer l’ux</p>
<p><strong>Command</strong> : Represent a Cart validated before payment. Panier validé puis stocké en base en vue d’être réglé.</p>
<p><strong>Payment</strong> : Represent a command payment.</p>
<p><strong>PaymentNotification</strong> : Represent the Payment provider notification</p>
<p><strong>Delivery</strong> : Represent Command Delivery</p>
<pre class=" language-mermaid"><svg id="mermaid-svg-VGxWT2lXkk2Das8R" width="100%" xmlns="http://www.w3.org/2000/svg" height="815" style="max-width: 915px;" viewBox="0 0 915 815"><style>#mermaid-svg-VGxWT2lXkk2Das8R{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000000;}#mermaid-svg-VGxWT2lXkk2Das8R .error-icon{fill:#552222;}#mermaid-svg-VGxWT2lXkk2Das8R .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-VGxWT2lXkk2Das8R .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-VGxWT2lXkk2Das8R .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-VGxWT2lXkk2Das8R .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-VGxWT2lXkk2Das8R .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-VGxWT2lXkk2Das8R .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-VGxWT2lXkk2Das8R .marker{fill:#666;stroke:#666;}#mermaid-svg-VGxWT2lXkk2Das8R .marker.cross{stroke:#666;}#mermaid-svg-VGxWT2lXkk2Das8R svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-VGxWT2lXkk2Das8R .entityBox{fill:#eee;stroke:#999;}#mermaid-svg-VGxWT2lXkk2Das8R .attributeBoxOdd{fill:#ffffff;stroke:#999;}#mermaid-svg-VGxWT2lXkk2Das8R .attributeBoxEven{fill:#f2f2f2;stroke:#999;}#mermaid-svg-VGxWT2lXkk2Das8R .relationshipLabelBox{fill:hsl(-160,0%,93.3333333333%);opacity:0.7;background-color:hsl(-160,0%,93.3333333333%);}#mermaid-svg-VGxWT2lXkk2Das8R .relationshipLabelBox rect{opacity:0.5;}#mermaid-svg-VGxWT2lXkk2Das8R .relationshipLine{stroke:#666;}#mermaid-svg-VGxWT2lXkk2Das8R:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-svg-VGxWT2lXkk2Das8R er{fill:apa;}</style><g></g><defs><marker id="ONLY_ONE_START" refX="0" refY="9" markerWidth="18" markerHeight="18" orient="auto"><path stroke="gray" fill="none" d="M9,0 L9,18 M15,0 L15,18"></path></marker></defs><defs><marker id="ONLY_ONE_END" refX="18" refY="9" markerWidth="18" markerHeight="18" orient="auto"><path stroke="gray" fill="none" d="M3,0 L3,18 M9,0 L9,18"></path></marker></defs><defs><marker id="ZERO_OR_ONE_START" refX="0" refY="9" markerWidth="30" markerHeight="18" orient="auto"><circle stroke="gray" fill="white" cx="21" cy="9" r="6"></circle><path stroke="gray" fill="none" d="M9,0 L9,18"></path></marker></defs><defs><marker id="ZERO_OR_ONE_END" refX="30" refY="9" markerWidth="30" markerHeight="18" orient="auto"><circle stroke="gray" fill="white" cx="9" cy="9" r="6"></circle><path stroke="gray" fill="none" d="M21,0 L21,18"></path></marker></defs><defs><marker id="ONE_OR_MORE_START" refX="18" refY="18" markerWidth="45" markerHeight="36" orient="auto"><path stroke="gray" fill="none" d="M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"></path></marker></defs><defs><marker id="ONE_OR_MORE_END" refX="27" refY="18" markerWidth="45" markerHeight="36" orient="auto"><path stroke="gray" fill="none" d="M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"></path></marker></defs><defs><marker id="ZERO_OR_MORE_START" refX="18" refY="18" markerWidth="57" markerHeight="36" orient="auto"><circle stroke="gray" fill="white" cx="48" cy="18" r="6"></circle><path stroke="gray" fill="none" d="M0,18 Q18,0 36,18 Q18,36 0,18"></path></marker></defs><defs><marker id="ZERO_OR_MORE_END" refX="39" refY="18" markerWidth="57" markerHeight="36" orient="auto"><circle stroke="gray" fill="white" cx="9" cy="18" r="6"></circle><path stroke="gray" fill="none" d="M21,18 Q39,0 57,18 Q39,36 21,18"></path></marker></defs><path class="er relationshipLine" d="M320,72.08333333333333L278.3333333333333,84.2361111111111C236.66666666666666,96.38888888888887,153.33333333333334,120.69444444444444,111.66666666666667,147.43055555555557C70,174.16666666666666,70,203.33333333333334,70,232.5C70,261.6666666666667,70,290.8333333333333,70,313.75C70,336.6666666666667,70,353.3333333333333,70,361.6666666666667L70,370" stroke="gray" fill="none" marker-end="url(#ONE_OR_MORE_END)" marker-start="url(#ONLY_ONE_START)"></path><path class="er relationshipLine" d="M70,445L70,453.3333333333333C70,461.6666666666667,70,478.3333333333333,74.76190476190476,495C79.52380952380952,511.6666666666667,89.04761904761904,528.3333333333334,93.80952380952381,536.6666666666666L98.57142857142857,545" stroke="gray" fill="none" marker-end="url(#ONLY_ONE_END)" marker-start="url(#ONLY_ONE_START)"></path><path class="er relationshipLine" d="M370,95L370,103.33333333333333C370,111.66666666666667,370,128.33333333333334,370,145C370,161.66666666666666,370,178.33333333333334,370,186.66666666666666L370,195" stroke="gray" fill="none" marker-end="url(#ONE_OR_MORE_END)" marker-start="url(#ONLY_ONE_START)"></path><path class="er relationshipLine" d="M327.14285714285717,270L317.61904761904765,278.3333333333333C308.09523809523813,286.6666666666667,289.04761904761904,303.3333333333333,279.5238095238095,320C270,336.6666666666667,270,353.3333333333333,270,361.6666666666667L270,370" stroke="gray" fill="none" marker-end="url(#ONE_OR_MORE_END)" marker-start="url(#ONLY_ONE_START)"></path><path class="er relationshipLine" d="M412.85714285714283,270L422.38095238095235,278.3333333333333C431.9047619047619,286.6666666666667,450.95238095238096,303.3333333333333,460.4761904761904,320C470,336.6666666666667,470,353.3333333333333,470,361.6666666666667L470,370" stroke="gray" fill="none" marker-end="url(#ONLY_ONE_END)" marker-start="url(#ONLY_ONE_START)"></path><path class="er relationshipLine" d="M448.57142857142856,445L443.8095238095238,453.3333333333333C439.04761904761904,461.6666666666667,429.52380952380946,478.3333333333333,424.76190476190476,495C420,511.6666666666667,420,528.3333333333334,420,536.6666666666666L420,545" stroke="gray" fill="none" marker-end="url(#ONLY_ONE_END)" marker-start="url(#ONLY_ONE_START)"></path><path class="er relationshipLine" d="M512.8571428571429,445L522.3809523809524,453.3333333333333C531.9047619047619,461.6666666666667,550.952380952381,478.3333333333333,567.6190476190477,495C584.2857142857143,511.6666666666667,598.5714285714286,528.3333333333334,605.7142857142858,536.6666666666666L612.8571428571429,545" stroke="gray" fill="none" marker-end="url(#ONLY_ONE_END)" marker-start="url(#ONLY_ONE_START)"></path><path class="er relationshipLine" d="M520,419.1666666666667L574.1666666666666,431.8055555555556C628.3333333333334,444.4444444444445,736.6666666666666,469.72222222222223,790.8333333333334,490.6944444444444C845,511.6666666666667,845,528.3333333333334,845,536.6666666666666L845,545" stroke="gray" fill="none" marker-end="url(#ONLY_ONE_END)" marker-start="url(#ONLY_ONE_START)"></path><path class="er relationshipLine" d="M420,429.375L395,440.3125C370,451.25,320,473.125,278.3333333333333,493.78472222222223C236.66666666666666,514.4444444444445,203.33333333333334,533.8888888888889,186.66666666666666,543.6111111111112L170,553.3333333333334" stroke="gray" fill="none" marker-end="url(#ONLY_ONE_END)" marker-start="url(#ONLY_ONE_START)"></path><path class="er relationshipLine" d="M420,620L420,628.3333333333334C420,636.6666666666666,420,653.3333333333334,420,670C420,686.6666666666666,420,703.3333333333334,420,711.6666666666666L420,720" stroke="gray" fill="none" marker-end="url(#ONLY_ONE_END)" marker-start="url(#ONLY_ONE_START)"></path><path class="er relationshipLine" d="M666.4285714285714,545L671.1904761904763,536.6666666666666C675.952380952381,528.3333333333334,685.4761904761905,511.6666666666667,690.2380952380953,488.75C695,465.8333333333333,695,436.6666666666667,695,407.5C695,378.3333333333333,695,349.1666666666667,695,320C695,290.8333333333333,695,261.6666666666667,695,232.5C695,203.33333333333334,695,174.16666666666666,649.1666666666666,147.24358974358975C603.3333333333334,120.32051282051282,511.6666666666667,95.64102564102564,465.8333333333333,83.30128205128206L420,70.96153846153847" stroke="gray" fill="none" marker-end="url(#ONE_OR_MORE_END)" marker-start="url(#ONLY_ONE_START)"></path><g id="User" transform="translate(320,20 )"><rect class="er entityBox" fill="honeydew" fill-opacity="100%" stroke="gray" x="0" y="0" width="100" height="75"></rect><text class="er entityLabel" id="entity-User" x="0" y="0" dominant-baseline="middle" text-anchor="middle" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif;; font-size: 12px" transform="translate(50,37.5)">User</text></g><g id="Location" transform="translate(20,370 )"><rect class="er entityBox" fill="honeydew" fill-opacity="100%" stroke="gray" x="0" y="0" width="100" height="75"></rect><text class="er entityLabel" id="entity-Location" x="0" y="0" dominant-baseline="middle" text-anchor="middle" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif;; font-size: 12px" transform="translate(50,37.5)">Location</text></g><g id="Address" transform="translate(70,545 )"><rect class="er entityBox" fill="honeydew" fill-opacity="100%" stroke="gray" x="0" y="0" width="100" height="75"></rect><text class="er entityLabel" id="entity-Address" x="0" y="0" dominant-baseline="middle" text-anchor="middle" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif;; font-size: 12px" transform="translate(50,37.5)">Address</text></g><g id="Cart" transform="translate(320,195 )"><rect class="er entityBox" fill="honeydew" fill-opacity="100%" stroke="gray" x="0" y="0" width="100" height="75"></rect><text class="er entityLabel" id="entity-Cart" x="0" y="0" dominant-baseline="middle" text-anchor="middle" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif;; font-size: 12px" transform="translate(50,37.5)">Cart</text></g><g id="Product" transform="translate(220,370 )"><rect class="er entityBox" fill="honeydew" fill-opacity="100%" stroke="gray" x="0" y="0" width="100" height="75"></rect><text class="er entityLabel" id="entity-Product" x="0" y="0" dominant-baseline="middle" text-anchor="middle" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif;; font-size: 12px" transform="translate(50,37.5)">Product</text></g><g id="Command" transform="translate(420,370 )"><rect class="er entityBox" fill="honeydew" fill-opacity="100%" stroke="gray" x="0" y="0" width="100" height="75"></rect><text class="er entityLabel" id="entity-Command" x="0" y="0" dominant-baseline="middle" text-anchor="middle" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif;; font-size: 12px" transform="translate(50,37.5)">Command</text></g><g id="Payment" transform="translate(370,545 )"><rect class="er entityBox" fill="honeydew" fill-opacity="100%" stroke="gray" x="0" y="0" width="100" height="75"></rect><text class="er entityLabel" id="entity-Payment" x="0" y="0" dominant-baseline="middle" text-anchor="middle" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif;; font-size: 12px" transform="translate(50,37.5)">Payment</text></g><g id="Delivery" transform="translate(595,545 )"><rect class="er entityBox" fill="honeydew" fill-opacity="100%" stroke="gray" x="0" y="0" width="100" height="75"></rect><text class="er entityLabel" id="entity-Delivery" x="0" y="0" dominant-baseline="middle" text-anchor="middle" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif;; font-size: 12px" transform="translate(50,37.5)">Delivery</text></g><g id="City" transform="translate(795,545 )"><rect class="er entityBox" fill="honeydew" fill-opacity="100%" stroke="gray" x="0" y="0" width="100" height="75"></rect><text class="er entityLabel" id="entity-City" x="0" y="0" dominant-baseline="middle" text-anchor="middle" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif;; font-size: 12px" transform="translate(50,37.5)">City</text></g><g id="PaymentNotification" transform="translate(350.1328125,720 )"><rect class="er entityBox" fill="honeydew" fill-opacity="100%" stroke="gray" x="0" y="0" width="139.734375" height="75"></rect><text class="er entityLabel" id="entity-PaymentNotification" x="0" y="0" dominant-baseline="middle" text-anchor="middle" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif;; font-size: 12px" transform="translate(69.8671875,37.5)">PaymentNotification</text></g><rect class="er relationshipLabelBox" x="82.66056060791016" y="144.85977172851562" width="45.015625" height="14" fill="white" fill-opacity="85%"></rect><text class="er relationshipLabel" id="rel952" x="105.16837310791016" y="151.85977172851562" text-anchor="middle" dominant-baseline="middle" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif;; font-size: 12px">hasMany</text><rect class="er relationshipLabelBox" x="56.04155731201172" y="490.4472351074219" width="38.90625" height="14" fill="white" fill-opacity="85%"></rect><text class="er relationshipLabel" id="rel953" x="75.49468231201172" y="497.4472351074219" text-anchor="middle" dominant-baseline="middle" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif;; font-size: 12px">hasOne</text><rect class="er relationshipLabelBox" x="347.4921875" y="138" width="45.015625" height="14" fill="white" fill-opacity="85%"></rect><text class="er relationshipLabel" id="rel954" x="370" y="145" text-anchor="middle" dominant-baseline="middle" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif;; font-size: 12px">hasMany</text><rect class="er relationshipLabelBox" x="261.8539733886719" y="305.5645446777344" width="45.015625" height="14" fill="white" fill-opacity="85%"></rect><text class="er relationshipLabel" id="rel955" x="284.3617858886719" y="312.5645446777344" text-anchor="middle" dominant-baseline="middle" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif;; font-size: 12px">hasMany</text><rect class="er relationshipLabelBox" x="436.1850891113281" y="305.5645446777344" width="38.90625" height="14" fill="white" fill-opacity="85%"></rect><text class="er relationshipLabel" id="rel956" x="455.6382141113281" y="312.5645446777344" text-anchor="middle" dominant-baseline="middle" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif;; font-size: 12px">hasOne</text><rect class="er relationshipLabelBox" x="406.04156494140625" y="485.5527648925781" width="38.90625" height="14" fill="white" fill-opacity="85%"></rect><text class="er relationshipLabel" id="rel957" x="425.49468994140625" y="492.5527648925781" text-anchor="middle" dominant-baseline="middle" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif;; font-size: 12px">hasOne</text><rect class="er relationshipLabelBox" x="545.7806396484375" y="485.6319885253906" width="38.90625" height="14" fill="white" fill-opacity="85%"></rect><text class="er relationshipLabel" id="rel958" x="565.2337646484375" y="492.6319885253906" text-anchor="middle" dominant-baseline="middle" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif;; font-size: 12px">hasOne</text><rect class="er relationshipLabelBox" x="677.4396362304688" y="454.89898681640625" width="38.90625" height="14" fill="white" fill-opacity="85%"></rect><text class="er relationshipLabel" id="rel959" x="696.8927612304688" y="461.89898681640625" text-anchor="middle" dominant-baseline="middle" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif;; font-size: 12px">hasOne</text><rect class="er relationshipLabelBox" x="273.25115966796875" y="479.7658996582031" width="38.90625" height="14" fill="white" fill-opacity="85%"></rect><text class="er relationshipLabel" id="rel960" x="292.70428466796875" y="486.7658996582031" text-anchor="middle" dominant-baseline="middle" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif;; font-size: 12px">hasOne</text><rect class="er relationshipLabelBox" x="400.546875" y="663" width="38.90625" height="14" fill="white" fill-opacity="85%"></rect><text class="er relationshipLabel" id="rel961" x="420" y="670" text-anchor="middle" dominant-baseline="middle" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif;; font-size: 12px">hasOne</text><rect class="er relationshipLabelBox" x="675.3721923828125" y="211.8419952392578" width="38.90625" height="14" fill="white" fill-opacity="85%"></rect><text class="er relationshipLabel" id="rel962" x="694.8253173828125" y="218.8419952392578" text-anchor="middle" dominant-baseline="middle" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif;; font-size: 12px">hasOne</text></svg></pre>
<hr>
<h1 id="api-rest">Api REST</h1>
<h2 id="api-allopico">api-allopico:</h2>
<ul>
<li>
<p>host: 0.0.0.0:8000</p>
</li>
<li>
<p>Swagger: <a href="http://0.0.0.0:8000/api/docs/index.html">http://0.0.0.0:8000/api/docs/index.html</a></p>
</li>
<li>
<p>bdd:</p>
<ul>
<li>dev: dev_api_allopico</li>
</ul>
</li>
</ul>
<h4 id="api-resource-user-"><strong>Api resource User</strong> :</h4>
<blockquote>
<p>POST /user/register()<br>
POST /user/login()<br>
GET/user/logout()</p>
</blockquote>
<blockquote>
<p>GET /user/profile()<br>
PUT /user/profile()</p>
</blockquote>
<h4 id="crud-sur-les-resources-suivantes-"><strong>Crud sur les resources suivantes</strong> :</h4>
<blockquote>
<p>Resources:</p>
</blockquote>
<ul>
<li>Product</li>
<li>Cart</li>
<li>Command</li>
<li>Delivery</li>
</ul>
<blockquote>
<p>GET /resource/list<br>
POST /resource/create<br>
GET /resource/show<br>
PUT /resource/update<br>
DELETE /resource/delete<br>
GET /resource/listFiltered</p>
</blockquote>
<h4 id="api-geo--location---city---address-"><strong>Api Geo : Location - City - Address</strong> :</h4>
<p>api google map<br>
api IGN : <a href="https://geoservices.ign.fr/documentation/services/api-et-services-ogc">https://geoservices.ign.fr/documentation/services/api-et-services-ogc</a></p>
<p>CRUD:</p>
<blockquote>
<p>GET User Location collection<br>
POST add Location to User<br>
GET Location<br>
GET Location/all<br>
POST Location</p>
</blockquote>
<blockquote>
<p>GET User Address collection<br>
POST add Address to User<br>
GET Address<br>
GET Address/all<br>
POST Address</p>
</blockquote>
<blockquote>
<p>GET City<br>
GET City/all<br>
POST City</p>
</blockquote>
<p>AUTRES ENDPOINTS:</p>
<blockquote>
<p>GET /GEO/lat_long_to_address()<br>
GET /GEO/lat_long_to_city()<br>
GET /GEO/address_to_city()<br>
GET /GEO/city_to_lat_long()<br>
GET /GEO/address_to_lat_long()<br>
GET /GEO/city_to_address()<br>
GET /GEO/address_full_to_address_object()<br>
GET /GEO/address_object_to_address_full()</p>
</blockquote>
<h4 id="api-resources--payment---paymentnotification-"><strong>Api resources : Payment - PaymentNotification</strong> :</h4>
<blockquote>
<p>initPayment() - finalizePayment() - 3DS() - confirmPaymentNotification() (IPN) - confirmPayment()</p>
</blockquote>
<hr>
<h1 id="application-flows">Application Flows</h1>
<h1 id="diagram-flows--user-side">Diagram Flows : User side</h1>
<p>ClientApplication : public Customer application</p>
<p>User : Customer</p>
<h3 id="flow-registerlogin-gps-location-list-products">Flow Register/login, Gps location, list Products</h3>
<pre class=" language-mermaid"><svg id="mermaid-svg-i6cdZ4SVmzakrpQF" width="100%" xmlns="http://www.w3.org/2000/svg" height="593" style="max-width: 1329px;" viewBox="-50 -10 1329 593"><style>#mermaid-svg-i6cdZ4SVmzakrpQF{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000000;}#mermaid-svg-i6cdZ4SVmzakrpQF .error-icon{fill:#552222;}#mermaid-svg-i6cdZ4SVmzakrpQF .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-i6cdZ4SVmzakrpQF .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-i6cdZ4SVmzakrpQF .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-i6cdZ4SVmzakrpQF .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-i6cdZ4SVmzakrpQF .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-i6cdZ4SVmzakrpQF .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-i6cdZ4SVmzakrpQF .marker{fill:#666;stroke:#666;}#mermaid-svg-i6cdZ4SVmzakrpQF .marker.cross{stroke:#666;}#mermaid-svg-i6cdZ4SVmzakrpQF svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-i6cdZ4SVmzakrpQF .actor{stroke:hsl(0,0%,83%);fill:#eee;}#mermaid-svg-i6cdZ4SVmzakrpQF text.actor > tspan{fill:#333;stroke:none;}#mermaid-svg-i6cdZ4SVmzakrpQF .actor-line{stroke:#666;}#mermaid-svg-i6cdZ4SVmzakrpQF .messageLine0{stroke-width:1.5;stroke-dasharray:none;stroke:#333;}#mermaid-svg-i6cdZ4SVmzakrpQF .messageLine1{stroke-width:1.5;stroke-dasharray:2,2;stroke:#333;}#mermaid-svg-i6cdZ4SVmzakrpQF #arrowhead path{fill:#333;stroke:#333;}#mermaid-svg-i6cdZ4SVmzakrpQF .sequenceNumber{fill:white;}#mermaid-svg-i6cdZ4SVmzakrpQF #sequencenumber{fill:#333;}#mermaid-svg-i6cdZ4SVmzakrpQF #crosshead path{fill:#333;stroke:#333;}#mermaid-svg-i6cdZ4SVmzakrpQF .messageText{fill:#333;stroke:#333;}#mermaid-svg-i6cdZ4SVmzakrpQF .labelBox{stroke:hsl(0,0%,83%);fill:#eee;}#mermaid-svg-i6cdZ4SVmzakrpQF .labelText,#mermaid-svg-i6cdZ4SVmzakrpQF .labelText > tspan{fill:#333;stroke:none;}#mermaid-svg-i6cdZ4SVmzakrpQF .loopText,#mermaid-svg-i6cdZ4SVmzakrpQF .loopText > tspan{fill:#333;stroke:none;}#mermaid-svg-i6cdZ4SVmzakrpQF .loopLine{stroke-width:2px;stroke-dasharray:2,2;stroke:hsl(0,0%,83%);fill:hsl(0,0%,83%);}#mermaid-svg-i6cdZ4SVmzakrpQF .note{stroke:hsl(60,100%,23.3333333333%);fill:#ffa;}#mermaid-svg-i6cdZ4SVmzakrpQF .noteText,#mermaid-svg-i6cdZ4SVmzakrpQF .noteText > tspan{fill:#333;stroke:none;}#mermaid-svg-i6cdZ4SVmzakrpQF .activation0{fill:#f4f4f4;stroke:#666;}#mermaid-svg-i6cdZ4SVmzakrpQF .activation1{fill:#f4f4f4;stroke:#666;}#mermaid-svg-i6cdZ4SVmzakrpQF .activation2{fill:#f4f4f4;stroke:#666;}#mermaid-svg-i6cdZ4SVmzakrpQF:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-svg-i6cdZ4SVmzakrpQF sequence{fill:apa;}</style><g></g><g><line id="actor4170" x1="75" y1="5" x2="75" y2="582" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="0" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="75" dy="0">ClientApplication</tspan></text></g><g><line id="actor4171" x1="275" y1="5" x2="275" y2="582" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="200" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="275" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="275" dy="0">User</tspan></text></g><g><line id="actor4172" x1="475" y1="5" x2="475" y2="582" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="400" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="475" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="475" dy="0">Location</tspan></text></g><g><line id="actor4173" x1="754" y1="5" x2="754" y2="582" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="679" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="754" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="754" dy="0">Address</tspan></text></g><g><line id="actor4174" x1="954" y1="5" x2="954" y2="582" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="879" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="954" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="954" dy="0">City</tspan></text></g><g><line id="actor4175" x1="1154" y1="5" x2="1154" y2="582" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="1079" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="1154" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="1154" dy="0">Product</tspan></text></g><defs><marker id="arrowhead" refX="9" refY="5" markerUnits="userSpaceOnUse" markerWidth="12" markerHeight="12" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z"></path></marker></defs><defs><marker id="crosshead" markerWidth="15" markerHeight="8" orient="auto" refX="16" refY="4"><path fill="black" stroke="#000000" stroke-width="1px" d="M 9,2 V 6 L16,4 Z" style="stroke-dasharray: 0, 0;"></path><path fill="none" stroke="#000000" stroke-width="1px" d="M 0,1 L 6,7 M 6,1 L 0,7" style="stroke-dasharray: 0, 0;"></path></marker></defs><defs><marker id="filled-head" refX="18" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 18,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><defs><marker id="sequencenumber" refX="15" refY="15" markerWidth="60" markerHeight="40" orient="auto"><circle cx="15" cy="15" r="6"></circle></marker></defs><text x="175" y="80" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Login/Register</text><line x1="75" y1="113" x2="275" y2="113" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><g><rect x="270" y="113" fill="#EDF2AE" stroke="#666" width="10" height="48" rx="0" ry="0" class="activation0"></rect></g><text x="173" y="128" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">logged</text><line x1="270" y1="161" x2="75" y2="161" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><g></g><text x="273" y="176" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Set my Location</text><line x1="75" y1="209" x2="470" y2="209" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><g><rect x="475" y="211" fill="#EDF2AE" stroke="#666" width="10" height="46" rx="0" ry="0" class="activation1"></rect></g><text x="620" y="224" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Set my address from location</text><line x1="485" y1="257" x2="754" y2="257" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><g><rect x="749" y="259" fill="#EDF2AE" stroke="#666" width="10" height="46" rx="0" ry="0" class="activation0"></rect></g><text x="412" y="272" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">get address</text><line x1="749" y1="305" x2="75" y2="305" class="messageLine1" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="stroke-dasharray: 3, 3; fill: none;"></line><text x="515" y="320" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">check my location availability</text><line x1="75" y1="353" x2="954" y2="353" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><g><rect x="949" y="355" fill="#EDF2AE" stroke="#666" width="10" height="46" rx="0" ry="0" class="activation0"></rect></g><text x="512" y="368" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">message error if location unavailability</text><line x1="949" y1="401" x2="75" y2="401" class="messageLine1" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="stroke-dasharray: 3, 3; fill: none;"></line><text x="615" y="416" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">list all Products</text><line x1="75" y1="449" x2="1154" y2="449" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><g><rect x="1149" y="451" fill="#EDF2AE" stroke="#666" width="10" height="46" rx="0" ry="0" class="activation0"></rect></g><text x="612" y="464" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Product[]</text><line x1="1149" y1="497" x2="75" y2="497" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><g><rect x="0" y="517" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="549.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="75" dy="0">ClientApplication</tspan></text></g><g><rect x="200" y="517" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="275" y="549.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="275" dy="0">User</tspan></text></g><g><rect x="400" y="517" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="475" y="549.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="475" dy="0">Location</tspan></text></g><g><rect x="679" y="517" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="754" y="549.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="754" dy="0">Address</tspan></text></g><g><rect x="879" y="517" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="954" y="549.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="954" dy="0">City</tspan></text></g><g><rect x="1079" y="517" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="1154" y="549.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="1154" dy="0">Product</tspan></text></g></svg></pre>
<h3 id="flow-command-and-payment">Flow Command and payment</h3>
<pre class=" language-mermaid"><svg id="mermaid-svg-gQcmBKFz4usCNEos" width="100%" xmlns="http://www.w3.org/2000/svg" height="593" style="max-width: 860px;" viewBox="-50 -10 860 593"><style>#mermaid-svg-gQcmBKFz4usCNEos{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000000;}#mermaid-svg-gQcmBKFz4usCNEos .error-icon{fill:#552222;}#mermaid-svg-gQcmBKFz4usCNEos .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-gQcmBKFz4usCNEos .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-gQcmBKFz4usCNEos .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-gQcmBKFz4usCNEos .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-gQcmBKFz4usCNEos .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-gQcmBKFz4usCNEos .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-gQcmBKFz4usCNEos .marker{fill:#666;stroke:#666;}#mermaid-svg-gQcmBKFz4usCNEos .marker.cross{stroke:#666;}#mermaid-svg-gQcmBKFz4usCNEos svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-gQcmBKFz4usCNEos .actor{stroke:hsl(0,0%,83%);fill:#eee;}#mermaid-svg-gQcmBKFz4usCNEos text.actor > tspan{fill:#333;stroke:none;}#mermaid-svg-gQcmBKFz4usCNEos .actor-line{stroke:#666;}#mermaid-svg-gQcmBKFz4usCNEos .messageLine0{stroke-width:1.5;stroke-dasharray:none;stroke:#333;}#mermaid-svg-gQcmBKFz4usCNEos .messageLine1{stroke-width:1.5;stroke-dasharray:2,2;stroke:#333;}#mermaid-svg-gQcmBKFz4usCNEos #arrowhead path{fill:#333;stroke:#333;}#mermaid-svg-gQcmBKFz4usCNEos .sequenceNumber{fill:white;}#mermaid-svg-gQcmBKFz4usCNEos #sequencenumber{fill:#333;}#mermaid-svg-gQcmBKFz4usCNEos #crosshead path{fill:#333;stroke:#333;}#mermaid-svg-gQcmBKFz4usCNEos .messageText{fill:#333;stroke:#333;}#mermaid-svg-gQcmBKFz4usCNEos .labelBox{stroke:hsl(0,0%,83%);fill:#eee;}#mermaid-svg-gQcmBKFz4usCNEos .labelText,#mermaid-svg-gQcmBKFz4usCNEos .labelText > tspan{fill:#333;stroke:none;}#mermaid-svg-gQcmBKFz4usCNEos .loopText,#mermaid-svg-gQcmBKFz4usCNEos .loopText > tspan{fill:#333;stroke:none;}#mermaid-svg-gQcmBKFz4usCNEos .loopLine{stroke-width:2px;stroke-dasharray:2,2;stroke:hsl(0,0%,83%);fill:hsl(0,0%,83%);}#mermaid-svg-gQcmBKFz4usCNEos .note{stroke:hsl(60,100%,23.3333333333%);fill:#ffa;}#mermaid-svg-gQcmBKFz4usCNEos .noteText,#mermaid-svg-gQcmBKFz4usCNEos .noteText > tspan{fill:#333;stroke:none;}#mermaid-svg-gQcmBKFz4usCNEos .activation0{fill:#f4f4f4;stroke:#666;}#mermaid-svg-gQcmBKFz4usCNEos .activation1{fill:#f4f4f4;stroke:#666;}#mermaid-svg-gQcmBKFz4usCNEos .activation2{fill:#f4f4f4;stroke:#666;}#mermaid-svg-gQcmBKFz4usCNEos:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-svg-gQcmBKFz4usCNEos sequence{fill:apa;}</style><g></g><g><line id="actor4176" x1="75" y1="5" x2="75" y2="582" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="0" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="75" dy="0">User</tspan></text></g><g><line id="actor4177" x1="285" y1="5" x2="285" y2="582" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="210" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="285" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="285" dy="0">Cart</tspan></text></g><g><line id="actor4178" x1="485" y1="5" x2="485" y2="582" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="410" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="485" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="485" dy="0">Command</tspan></text></g><g><line id="actor4179" x1="685" y1="5" x2="685" y2="582" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="610" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="685" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="685" dy="0">Payment</tspan></text></g><defs><marker id="arrowhead" refX="9" refY="5" markerUnits="userSpaceOnUse" markerWidth="12" markerHeight="12" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z"></path></marker></defs><defs><marker id="crosshead" markerWidth="15" markerHeight="8" orient="auto" refX="16" refY="4"><path fill="black" stroke="#000000" stroke-width="1px" d="M 9,2 V 6 L16,4 Z" style="stroke-dasharray: 0, 0;"></path><path fill="none" stroke="#000000" stroke-width="1px" d="M 0,1 L 6,7 M 6,1 L 0,7" style="stroke-dasharray: 0, 0;"></path></marker></defs><defs><marker id="filled-head" refX="18" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 18,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><defs><marker id="sequencenumber" refX="15" refY="15" markerWidth="60" markerHeight="40" orient="auto"><circle cx="15" cy="15" r="6"></circle></marker></defs><text x="180" y="80" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Add Product to cart</text><line x1="75" y1="113" x2="285" y2="113" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><g></g><text x="280" y="128" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Validate Cart &amp; create a Command</text><line x1="75" y1="161" x2="485" y2="161" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><g></g><text x="380" y="176" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Validate Command &amp; Choose payment provider</text><line x1="75" y1="209" x2="685" y2="209" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><g></g><text x="378" y="224" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Show payment provider form (initPayment)</text><line x1="75" y1="257" x2="680" y2="257" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><g></g><text x="378" y="272" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Validate payment (finalizePayment)</text><line x1="75" y1="305" x2="680" y2="305" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><g></g><text x="378" y="320" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Payment notification (confirmPaymentNotification)</text><line x1="680" y1="353" x2="75" y2="353" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><g></g><text x="280" y="368" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Status Command as Paid in DB</text><line x1="80" y1="401" x2="480" y2="401" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><g></g><text x="280" y="416" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Status Command as waiting_delivery</text><line x1="80" y1="449" x2="480" y2="449" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><g></g><text x="380" y="464" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Confirm payment in DB (confirmPayment)</text><line x1="80" y1="497" x2="680" y2="497" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><g></g><g><rect x="0" y="517" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="549.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="75" dy="0">User</tspan></text></g><g><rect x="210" y="517" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="285" y="549.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="285" dy="0">Cart</tspan></text></g><g><rect x="410" y="517" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="485" y="549.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="485" dy="0">Command</tspan></text></g><g><rect x="610" y="517" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="685" y="549.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="685" dy="0">Payment</tspan></text></g></svg></pre>
<h3 id="flow-delivery">Flow Delivery</h3>
<pre class=" language-mermaid"><svg id="mermaid-svg-qBJRd1QOg7PYOadQ" width="100%" xmlns="http://www.w3.org/2000/svg" height="449" style="max-width: 1466px;" viewBox="-50 -10 1466 449"><style>#mermaid-svg-qBJRd1QOg7PYOadQ{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000000;}#mermaid-svg-qBJRd1QOg7PYOadQ .error-icon{fill:#552222;}#mermaid-svg-qBJRd1QOg7PYOadQ .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-qBJRd1QOg7PYOadQ .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-qBJRd1QOg7PYOadQ .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-qBJRd1QOg7PYOadQ .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-qBJRd1QOg7PYOadQ .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-qBJRd1QOg7PYOadQ .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-qBJRd1QOg7PYOadQ .marker{fill:#666;stroke:#666;}#mermaid-svg-qBJRd1QOg7PYOadQ .marker.cross{stroke:#666;}#mermaid-svg-qBJRd1QOg7PYOadQ svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-qBJRd1QOg7PYOadQ .actor{stroke:hsl(0,0%,83%);fill:#eee;}#mermaid-svg-qBJRd1QOg7PYOadQ text.actor > tspan{fill:#333;stroke:none;}#mermaid-svg-qBJRd1QOg7PYOadQ .actor-line{stroke:#666;}#mermaid-svg-qBJRd1QOg7PYOadQ .messageLine0{stroke-width:1.5;stroke-dasharray:none;stroke:#333;}#mermaid-svg-qBJRd1QOg7PYOadQ .messageLine1{stroke-width:1.5;stroke-dasharray:2,2;stroke:#333;}#mermaid-svg-qBJRd1QOg7PYOadQ #arrowhead path{fill:#333;stroke:#333;}#mermaid-svg-qBJRd1QOg7PYOadQ .sequenceNumber{fill:white;}#mermaid-svg-qBJRd1QOg7PYOadQ #sequencenumber{fill:#333;}#mermaid-svg-qBJRd1QOg7PYOadQ #crosshead path{fill:#333;stroke:#333;}#mermaid-svg-qBJRd1QOg7PYOadQ .messageText{fill:#333;stroke:#333;}#mermaid-svg-qBJRd1QOg7PYOadQ .labelBox{stroke:hsl(0,0%,83%);fill:#eee;}#mermaid-svg-qBJRd1QOg7PYOadQ .labelText,#mermaid-svg-qBJRd1QOg7PYOadQ .labelText > tspan{fill:#333;stroke:none;}#mermaid-svg-qBJRd1QOg7PYOadQ .loopText,#mermaid-svg-qBJRd1QOg7PYOadQ .loopText > tspan{fill:#333;stroke:none;}#mermaid-svg-qBJRd1QOg7PYOadQ .loopLine{stroke-width:2px;stroke-dasharray:2,2;stroke:hsl(0,0%,83%);fill:hsl(0,0%,83%);}#mermaid-svg-qBJRd1QOg7PYOadQ .note{stroke:hsl(60,100%,23.3333333333%);fill:#ffa;}#mermaid-svg-qBJRd1QOg7PYOadQ .noteText,#mermaid-svg-qBJRd1QOg7PYOadQ .noteText > tspan{fill:#333;stroke:none;}#mermaid-svg-qBJRd1QOg7PYOadQ .activation0{fill:#f4f4f4;stroke:#666;}#mermaid-svg-qBJRd1QOg7PYOadQ .activation1{fill:#f4f4f4;stroke:#666;}#mermaid-svg-qBJRd1QOg7PYOadQ .activation2{fill:#f4f4f4;stroke:#666;}#mermaid-svg-qBJRd1QOg7PYOadQ:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-svg-qBJRd1QOg7PYOadQ sequence{fill:apa;}</style><g></g><g><line id="actor4180" x1="75" y1="5" x2="75" y2="438" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="0" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="75" dy="0">ClientApplication</tspan></text></g><g><line id="actor4181" x1="435" y1="5" x2="435" y2="438" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="360" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="435" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="435" dy="0">Delivery</tspan></text></g><g><line id="actor4182" x1="635" y1="5" x2="635" y2="438" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="560" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="635" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="635" dy="0">DeliveryUser</tspan></text></g><g><line id="actor4183" x1="835" y1="5" x2="835" y2="438" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="760" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="835" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="835" dy="0">User</tspan></text></g><g><line id="actor4184" x1="1291" y1="5" x2="1291" y2="438" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="1216" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="1291" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="1291" dy="0">Command</tspan></text></g><defs><marker id="arrowhead" refX="9" refY="5" markerUnits="userSpaceOnUse" markerWidth="12" markerHeight="12" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z"></path></marker></defs><defs><marker id="crosshead" markerWidth="15" markerHeight="8" orient="auto" refX="16" refY="4"><path fill="black" stroke="#000000" stroke-width="1px" d="M 9,2 V 6 L16,4 Z" style="stroke-dasharray: 0, 0;"></path><path fill="none" stroke="#000000" stroke-width="1px" d="M 0,1 L 6,7 M 6,1 L 0,7" style="stroke-dasharray: 0, 0;"></path></marker></defs><defs><marker id="filled-head" refX="18" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 18,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><defs><marker id="sequencenumber" refX="15" refY="15" markerWidth="60" markerHeight="40" orient="auto"><circle cx="15" cy="15" r="6"></circle></marker></defs><text x="255" y="80" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Check Delivery date_estimated_delivery</text><line x1="75" y1="113" x2="435" y2="113" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><g><rect x="430" y="113" fill="#EDF2AE" stroke="#666" width="10" height="48" rx="0" ry="0" class="activation0"></rect></g><text x="253" y="128" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">show date_estimated_delivery</text><line x1="430" y1="161" x2="75" y2="161" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="355" y="176" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Get Delivery man (User) Location</text><line x1="75" y1="209" x2="635" y2="209" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><g><rect x="630" y="209" fill="#EDF2AE" stroke="#666" width="10" height="48" rx="0" ry="0" class="activation0"></rect></g><text x="353" y="224" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">show Location</text><line x1="630" y1="257" x2="75" y2="257" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="1063" y="272" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">User validate Delivery (Command status TERMINATED)</text><line x1="835" y1="305" x2="1291" y2="305" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><g><rect x="1286" y="305" fill="#EDF2AE" stroke="#666" width="10" height="48" rx="0" ry="0" class="activation0"></rect></g><text x="681" y="320" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Show Command as TERMINATED</text><line x1="1286" y1="353" x2="75" y2="353" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><g><rect x="0" y="373" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="405.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="75" dy="0">ClientApplication</tspan></text></g><g><rect x="360" y="373" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="435" y="405.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="435" dy="0">Delivery</tspan></text></g><g><rect x="560" y="373" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="635" y="405.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="635" dy="0">DeliveryUser</tspan></text></g><g><rect x="760" y="373" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="835" y="405.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="835" dy="0">User</tspan></text></g><g><rect x="1216" y="373" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="1291" y="405.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="1291" dy="0">Command</tspan></text></g></svg></pre>
<h1 id="diagram-flows--deliveryuser-side">Diagram Flows : DeliveryUser side</h1>
<p>DeliveryApplication : private livreur application</p>
<p>DeliveryUser : livreur</p>
<h3 id="flow-command">Flow Command</h3>
<pre class=" language-mermaid"><svg id="mermaid-svg-R0Jg2LKqyUWnpSso" width="100%" xmlns="http://www.w3.org/2000/svg" height="353" style="max-width: 1014px;" viewBox="-50 -10 1014 353"><style>#mermaid-svg-R0Jg2LKqyUWnpSso{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000000;}#mermaid-svg-R0Jg2LKqyUWnpSso .error-icon{fill:#552222;}#mermaid-svg-R0Jg2LKqyUWnpSso .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-R0Jg2LKqyUWnpSso .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-R0Jg2LKqyUWnpSso .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-R0Jg2LKqyUWnpSso .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-R0Jg2LKqyUWnpSso .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-R0Jg2LKqyUWnpSso .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-R0Jg2LKqyUWnpSso .marker{fill:#666;stroke:#666;}#mermaid-svg-R0Jg2LKqyUWnpSso .marker.cross{stroke:#666;}#mermaid-svg-R0Jg2LKqyUWnpSso svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-R0Jg2LKqyUWnpSso .actor{stroke:hsl(0,0%,83%);fill:#eee;}#mermaid-svg-R0Jg2LKqyUWnpSso text.actor > tspan{fill:#333;stroke:none;}#mermaid-svg-R0Jg2LKqyUWnpSso .actor-line{stroke:#666;}#mermaid-svg-R0Jg2LKqyUWnpSso .messageLine0{stroke-width:1.5;stroke-dasharray:none;stroke:#333;}#mermaid-svg-R0Jg2LKqyUWnpSso .messageLine1{stroke-width:1.5;stroke-dasharray:2,2;stroke:#333;}#mermaid-svg-R0Jg2LKqyUWnpSso #arrowhead path{fill:#333;stroke:#333;}#mermaid-svg-R0Jg2LKqyUWnpSso .sequenceNumber{fill:white;}#mermaid-svg-R0Jg2LKqyUWnpSso #sequencenumber{fill:#333;}#mermaid-svg-R0Jg2LKqyUWnpSso #crosshead path{fill:#333;stroke:#333;}#mermaid-svg-R0Jg2LKqyUWnpSso .messageText{fill:#333;stroke:#333;}#mermaid-svg-R0Jg2LKqyUWnpSso .labelBox{stroke:hsl(0,0%,83%);fill:#eee;}#mermaid-svg-R0Jg2LKqyUWnpSso .labelText,#mermaid-svg-R0Jg2LKqyUWnpSso .labelText > tspan{fill:#333;stroke:none;}#mermaid-svg-R0Jg2LKqyUWnpSso .loopText,#mermaid-svg-R0Jg2LKqyUWnpSso .loopText > tspan{fill:#333;stroke:none;}#mermaid-svg-R0Jg2LKqyUWnpSso .loopLine{stroke-width:2px;stroke-dasharray:2,2;stroke:hsl(0,0%,83%);fill:hsl(0,0%,83%);}#mermaid-svg-R0Jg2LKqyUWnpSso .note{stroke:hsl(60,100%,23.3333333333%);fill:#ffa;}#mermaid-svg-R0Jg2LKqyUWnpSso .noteText,#mermaid-svg-R0Jg2LKqyUWnpSso .noteText > tspan{fill:#333;stroke:none;}#mermaid-svg-R0Jg2LKqyUWnpSso .activation0{fill:#f4f4f4;stroke:#666;}#mermaid-svg-R0Jg2LKqyUWnpSso .activation1{fill:#f4f4f4;stroke:#666;}#mermaid-svg-R0Jg2LKqyUWnpSso .activation2{fill:#f4f4f4;stroke:#666;}#mermaid-svg-R0Jg2LKqyUWnpSso:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-svg-R0Jg2LKqyUWnpSso sequence{fill:apa;}</style><g></g><g><line id="actor4185" x1="75" y1="5" x2="75" y2="342" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="0" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="75" dy="0">DeliveryUser</tspan></text></g><g><line id="actor4186" x1="639" y1="5" x2="639" y2="342" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="564" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="639" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="639" dy="0">Command</tspan></text></g><g><line id="actor4187" x1="839" y1="5" x2="839" y2="342" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="764" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="839" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="839" dy="0">Delivery</tspan></text></g><defs><marker id="arrowhead" refX="9" refY="5" markerUnits="userSpaceOnUse" markerWidth="12" markerHeight="12" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z"></path></marker></defs><defs><marker id="crosshead" markerWidth="15" markerHeight="8" orient="auto" refX="16" refY="4"><path fill="black" stroke="#000000" stroke-width="1px" d="M 9,2 V 6 L16,4 Z" style="stroke-dasharray: 0, 0;"></path><path fill="none" stroke="#000000" stroke-width="1px" d="M 0,1 L 6,7 M 6,1 L 0,7" style="stroke-dasharray: 0, 0;"></path></marker></defs><defs><marker id="filled-head" refX="18" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 18,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><defs><marker id="sequencenumber" refX="15" refY="15" markerWidth="60" markerHeight="40" orient="auto"><circle cx="15" cy="15" r="6"></circle></marker></defs><text x="357" y="80" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">List command to Delivery</text><line x1="75" y1="113" x2="639" y2="113" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><g></g><text x="457" y="128" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">get Command address</text><line x1="75" y1="161" x2="839" y2="161" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><g></g><text x="355" y="176" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">validate Command Delivery (Command status CONFIRMED_DELIVERY)</text><line x1="75" y1="209" x2="634" y2="209" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><g></g><text x="455" y="224" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Delivery date_estimated_delivery = now + 30min</text><line x1="75" y1="257" x2="834" y2="257" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><g></g><g><rect x="0" y="277" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="309.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="75" dy="0">DeliveryUser</tspan></text></g><g><rect x="564" y="277" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="639" y="309.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="639" dy="0">Command</tspan></text></g><g><rect x="764" y="277" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="839" y="309.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="839" dy="0">Delivery</tspan></text></g></svg></pre>
<h3 id="flow-delivery-1">Flow Delivery</h3>
<pre class=" language-mermaid"><svg id="mermaid-svg-pAy6Bgcg4O2E1zKr" width="100%" xmlns="http://www.w3.org/2000/svg" height="305" style="max-width: 1157px;" viewBox="-50 -10 1157 305"><style>#mermaid-svg-pAy6Bgcg4O2E1zKr{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000000;}#mermaid-svg-pAy6Bgcg4O2E1zKr .error-icon{fill:#552222;}#mermaid-svg-pAy6Bgcg4O2E1zKr .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-pAy6Bgcg4O2E1zKr .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-pAy6Bgcg4O2E1zKr .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-pAy6Bgcg4O2E1zKr .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-pAy6Bgcg4O2E1zKr .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-pAy6Bgcg4O2E1zKr .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-pAy6Bgcg4O2E1zKr .marker{fill:#666;stroke:#666;}#mermaid-svg-pAy6Bgcg4O2E1zKr .marker.cross{stroke:#666;}#mermaid-svg-pAy6Bgcg4O2E1zKr svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-pAy6Bgcg4O2E1zKr .actor{stroke:hsl(0,0%,83%);fill:#eee;}#mermaid-svg-pAy6Bgcg4O2E1zKr text.actor > tspan{fill:#333;stroke:none;}#mermaid-svg-pAy6Bgcg4O2E1zKr .actor-line{stroke:#666;}#mermaid-svg-pAy6Bgcg4O2E1zKr .messageLine0{stroke-width:1.5;stroke-dasharray:none;stroke:#333;}#mermaid-svg-pAy6Bgcg4O2E1zKr .messageLine1{stroke-width:1.5;stroke-dasharray:2,2;stroke:#333;}#mermaid-svg-pAy6Bgcg4O2E1zKr #arrowhead path{fill:#333;stroke:#333;}#mermaid-svg-pAy6Bgcg4O2E1zKr .sequenceNumber{fill:white;}#mermaid-svg-pAy6Bgcg4O2E1zKr #sequencenumber{fill:#333;}#mermaid-svg-pAy6Bgcg4O2E1zKr #crosshead path{fill:#333;stroke:#333;}#mermaid-svg-pAy6Bgcg4O2E1zKr .messageText{fill:#333;stroke:#333;}#mermaid-svg-pAy6Bgcg4O2E1zKr .labelBox{stroke:hsl(0,0%,83%);fill:#eee;}#mermaid-svg-pAy6Bgcg4O2E1zKr .labelText,#mermaid-svg-pAy6Bgcg4O2E1zKr .labelText > tspan{fill:#333;stroke:none;}#mermaid-svg-pAy6Bgcg4O2E1zKr .loopText,#mermaid-svg-pAy6Bgcg4O2E1zKr .loopText > tspan{fill:#333;stroke:none;}#mermaid-svg-pAy6Bgcg4O2E1zKr .loopLine{stroke-width:2px;stroke-dasharray:2,2;stroke:hsl(0,0%,83%);fill:hsl(0,0%,83%);}#mermaid-svg-pAy6Bgcg4O2E1zKr .note{stroke:hsl(60,100%,23.3333333333%);fill:#ffa;}#mermaid-svg-pAy6Bgcg4O2E1zKr .noteText,#mermaid-svg-pAy6Bgcg4O2E1zKr .noteText > tspan{fill:#333;stroke:none;}#mermaid-svg-pAy6Bgcg4O2E1zKr .activation0{fill:#f4f4f4;stroke:#666;}#mermaid-svg-pAy6Bgcg4O2E1zKr .activation1{fill:#f4f4f4;stroke:#666;}#mermaid-svg-pAy6Bgcg4O2E1zKr .activation2{fill:#f4f4f4;stroke:#666;}#mermaid-svg-pAy6Bgcg4O2E1zKr:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-svg-pAy6Bgcg4O2E1zKr sequence{fill:apa;}</style><g></g><g><line id="actor4188" x1="75" y1="5" x2="75" y2="294" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="0" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="75" dy="0">DeliveryUser</tspan></text></g><g><line id="actor4189" x1="531" y1="5" x2="531" y2="294" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="456" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="531" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="531" dy="0">DeliveryApplication</tspan></text></g><g><line id="actor4190" x1="782" y1="5" x2="782" y2="294" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="707" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="782" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="782" dy="0">Delivery</tspan></text></g><g><line id="actor4191" x1="982" y1="5" x2="982" y2="294" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="907" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="982" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="982" dy="0">Command</tspan></text></g><defs><marker id="arrowhead" refX="9" refY="5" markerUnits="userSpaceOnUse" markerWidth="12" markerHeight="12" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z"></path></marker></defs><defs><marker id="crosshead" markerWidth="15" markerHeight="8" orient="auto" refX="16" refY="4"><path fill="black" stroke="#000000" stroke-width="1px" d="M 9,2 V 6 L16,4 Z" style="stroke-dasharray: 0, 0;"></path><path fill="none" stroke="#000000" stroke-width="1px" d="M 0,1 L 6,7 M 6,1 L 0,7" style="stroke-dasharray: 0, 0;"></path></marker></defs><defs><marker id="filled-head" refX="18" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 18,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><defs><marker id="sequencenumber" refX="15" refY="15" markerWidth="60" markerHeight="40" orient="auto"><circle cx="15" cy="15" r="6"></circle></marker></defs><text x="303" y="80" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Livreur starting Delivery. DeliveryUser-&gt;addLocation()</text><line x1="75" y1="113" x2="531" y2="113" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><g></g><text x="659" y="128" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Delivery date_finish=now</text><line x1="536" y1="161" x2="782" y2="161" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><g></g><text x="759" y="176" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Command DELIVERY_FINISH</text><line x1="536" y1="209" x2="982" y2="209" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><g></g><g><rect x="0" y="229" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="261.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="75" dy="0">DeliveryUser</tspan></text></g><g><rect x="456" y="229" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="531" y="261.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="531" dy="0">DeliveryApplication</tspan></text></g><g><rect x="707" y="229" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="782" y="261.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="782" dy="0">Delivery</tspan></text></g><g><rect x="907" y="229" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="982" y="261.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="982" dy="0">Command</tspan></text></g></svg></pre>
<h1 id="diagram-flows--admin-side">Diagram Flows : Admin side</h1>
<p>AdminApplication : private Admin application</p>
<p>AdminUser : Admin de l’app</p>
</div>
</body>

</html>
